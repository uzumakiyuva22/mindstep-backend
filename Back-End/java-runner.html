<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Java Code Runner</title>
  <style>
    textarea {
      width: 100%;
      height: 200px;
      font-family: monospace;
    }
    pre {
      background: #111;
      color: #0f0;
      padding: 10px;
    }
    button {
      margin-top: 10px;
      padding: 8px 15px;
      background-color: #ddd;
      border: none;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h2>Java Code Runner</h2>
  <textarea id="code">public class HelloWorld {
    public static void main(String[] args) {
        System.out.println("Hello JDoodle!");
    }
}</textarea>
  <br>
  <button onclick="runCode()">‚ñ∂ Run</button>
  <pre id="output">Output will appear here...</pre>

  <script>
    async function runCode() {
      const code = document.getElementById("code").value;
      const output = document.getElementById("output");
      output.textContent = "Running...";

      const clientId = "YOUR_CLIENT_ID";       // üîπ Replace this
      const clientSecret = "YOUR_CLIENT_SECRET"; // üîπ Replace this

      try {
        const res = await fetch(
          "https://corsproxy.io/?" + encodeURIComponent("https://api.jdoodle.com/v1/execute"),
          {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
              script: code,
              language: "java", 
              versionIndex: "4",
              clientId: "11682fc463affcff461780670108706e",
              clientSecret: "69c224046f8df0bf5df7e32ba94393720143dc8ccc87d12200786ac24bf34942"
            })
          }
        );

        if (!res.ok) throw new Error("HTTP error: " + res.status);
        const data = await res.json();
        output.textContent = data.output || "No output received.";
      } catch (err) {
        output.textContent = "‚ùå Network or API Error: " + err;
      }
    }
  </script>
</body>
</html>
